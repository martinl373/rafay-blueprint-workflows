name: 'Rafay Deploy'
description: 'Action to deploy rafay addons'
inputs:
  artifact:
    description: 'If set addon will be autogenerated using the artifact(s) at this path'
    required: false
    default: ''
  spec:
    description: 'If set use the specified spec file as a basis for the addon'
    required: false
    default: ''
  name:
    description: 'Set or override the addon name'
    required: false
    default: ''
  project:
    description: 'Set or override the addon project'
    required: false
    default: ''
  namespace:
    description: 'Set or override the addon namespace'
    required: false
    default: ''
  version:
    description: 'Set or override the addon version'
    required: false
    default: ''
  api-key:
    description: 'Rafay API secret key'
    required: false
    default: ''

runs:
  using: 'docker'
  image: 'Dockerfile'
  env:
    ARTIFACT_PATH: ${{ inputs.artifact }}
    SPEC_FILE: ${{ inputs.spec }}
    NAME: ${{ inputs.name }}
    PROJECT: ${{Â inputs.project }}
    NAMESPACE: ${{ inputs.namespace }}
    VERSION: ${{ inputs.version }}
    RAFAY_API_KEY: ${{ inputs.api-key }}

